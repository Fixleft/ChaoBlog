import{r as o,j as r}from"./framer-TAp2EHm1.js";import{T as m,B as C}from"./badge-DFbQIXjU.js";import{e as k,C as $,d as M}from"./index-ufr3Enzw.js";import{F as T}from"./button1-pze4i3W1.js";import{g as D}from"./api-D06cBC0f.js";import{N as S}from"./nav-37Khq6Kl.js";import{L as A}from"./index-DNux_Z8B.js";import"./react-Csw2ODfV.js";import"./index-De41xqz2.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],I=k("hash",L);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],u=k("sparkles",E);function P(l){return l.length}const d=[{color:"from-yellow-400 to-orange-500",darkColor:"dark:from-purple-400 dark:to-pink-500"},{color:"from-blue-400 to-cyan-500",darkColor:"dark:from-purple-500 dark:to-blue-400"},{color:"from-green-400 to-teal-500",darkColor:"dark:from-purple-400 dark:to-green-400"},{color:"from-blue-600 to-blue-800",darkColor:"dark:from-purple-600 dark:to-indigo-500"},{color:"from-pink-400 to-rose-500",darkColor:"dark:from-purple-400 dark:to-pink-400"},{color:"from-green-500 to-emerald-600",darkColor:"dark:from-purple-500 dark:to-green-500"},{color:"from-yellow-500 to-green-500",darkColor:"dark:from-purple-500 dark:to-yellow-400"},{color:"from-orange-400 to-red-500",darkColor:"dark:from-purple-400 dark:to-orange-400"},{color:"from-red-500 to-pink-600",darkColor:"dark:from-purple-500 dark:to-red-400"},{color:"from-cyan-400 to-blue-500",darkColor:"dark:from-purple-400 dark:to-cyan-400"},{color:"from-green-600 to-green-800",darkColor:"dark:from-purple-600 dark:to-green-600"},{color:"from-blue-700 to-indigo-800",darkColor:"dark:from-purple-700 dark:to-blue-600"},{color:"from-purple-500 to-pink-600",darkColor:"dark:from-purple-500 dark:to-pink-500"},{color:"from-blue-500 to-blue-700",darkColor:"dark:from-purple-500 dark:to-blue-500"},{color:"from-orange-400 to-yellow-500",darkColor:"dark:from-purple-400 dark:to-orange-400"},{color:"from-yellow-600 to-orange-600",darkColor:"dark:from-purple-600 dark:to-yellow-500"},{color:"from-purple-600 to-purple-800",darkColor:"dark:from-purple-600 dark:to-purple-400"},{color:"from-pink-500 to-rose-600",darkColor:"dark:from-purple-500 dark:to-pink-500"}];function q(){const[l,s]=o.useState(null),[i,x]=o.useState(null),[,p]=o.useState(!1),[n,h]=o.useState([]),[f,g]=o.useState([]),b=Math.max(...n.map(e=>e.count||1),1),y="https://www.chaosama.asia";o.useEffect(()=>{const e=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;e==="dark"||!e&&a?(p(!0),document.documentElement.classList.add("dark")):(p(!1),document.documentElement.classList.remove("dark")),D().then(g),fetch(`${y}/api/tags`).then(t=>t.json()).then(t=>{const j=t.map((w,N)=>{const c=N%d.length;return{...w,color:d[c].color,darkColor:d[c].darkColor}});h(j)}).catch(t=>console.error("标签加载失败",t))},[]);const v=P(f);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-black dark:via-gray-900 dark:to-purple-900 relative overflow-hidden transition-all duration-500",children:[r.jsx(T,{}),r.jsx(S,{}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-200/30 to-pink-200/30 dark:from-purple-500/20 dark:to-pink-500/20 rounded-full blur-3xl animate-pulse"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-blue-200/30 to-cyan-200/30 dark:from-purple-600/20 dark:to-indigo-600/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-indigo-100/20 to-purple-100/20 dark:from-purple-400/10 dark:to-pink-400/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),[...Array(20)].map((e,a)=>r.jsx("div",{className:"absolute w-2 h-2 bg-gradient-to-r from-purple-400/30 to-blue-400/30 dark:from-purple-400/40 dark:to-pink-400/40 rounded-full animate-bounce",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*2}s`}},a))]}),r.jsxs("div",{className:"relative container mx-auto px-4 py-16 max-w-7xl",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsxs("div",{className:"inline-flex items-center gap-3 mb-6 px-6 py-3 backdrop-blur-sm  transition-all duration-300",children:[r.jsx(u,{className:"h-5 w-5 text-purple-600 dark:text-purple-400 animate-spin",style:{animationDuration:"3s"}}),r.jsx("span",{className:"text-4xl font-bold text-gray-700 dark:text-white",children:"Tags"}),r.jsx(u,{className:"h-5 w-5 text-blue-600 dark:text-pink-400 animate-spin",style:{animationDuration:"3s",animationDelay:"1.5s"}})]}),r.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed animate-fade-in-up",children:["总计 ",r.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400 animate-pulse",children:n.length})," 个标签， 涵盖 ",r.jsx("span",{className:"font-semibold text-blue-600 dark:text-pink-400 animate-pulse",children:v})," 篇笔记"]})]}),r.jsx("div",{className:"mb-20",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:n.slice(0,12).map((e,a)=>r.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${a*.1}s`},onMouseEnter:()=>s(e.id),onMouseLeave:()=>s(null),children:r.jsx(A,{to:`/tags/${encodeURIComponent(e.name)}`,children:r.jsxs($,{className:"group relative overflow-hidden border-0 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-3 bg-white/80 dark:bg-black/60 hover:bg-white/90 dark:hover:bg-black/70 backdrop-blur-sm cursor-pointer transform hover:scale-105",children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} ${e.darkColor} opacity-0 group-hover:opacity-15 transition-all duration-500`}),r.jsx("div",{className:"absolute top-4 right-4 opacity-20 group-hover:opacity-60 transition-all duration-300",children:r.jsx(m,{className:`h-8 w-8 text-gray-400 dark:text-purple-400 ${l===e.id?"animate-spin":""}`})}),r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} ${e.darkColor} opacity-0 group-hover:opacity-5 blur-xl transition-all duration-700`}),r.jsxs(M,{className:"p-8 relative z-10",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${e.color} ${e.darkColor} flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-12 transition-all duration-500`,children:r.jsx(I,{className:"h-8 w-8 text-white"})}),r.jsx(C,{variant:"secondary",className:"bg-gray-100/80 dark:bg-purple-900/50 text-gray-700 dark:text-purple-200 group-hover:bg-white/90 dark:group-hover:bg-purple-800/60 font-bold text-lg px-3 py-1 transition-all duration-300",children:e.count})]}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white group-hover:text-gray-900 dark:group-hover:text-purple-200 mb-4 transition-colors",children:e.name}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400",children:[r.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:`h-full bg-gradient-to-r ${e.color} ${e.darkColor} transition-all duration-1000 group-hover:animate-pulse`,style:{width:`${e.count/b*100}%`,transform:l===e.id?"scaleX(1.1)":"scaleX(1)"}})}),r.jsxs("span",{className:"font-bold text-base",children:[e.count," 篇"]})]})]})]})})},e.id))})}),i&&r.jsx("div",{className:"fixed bottom-8 right-8 bg-white/90 dark:bg-black/80 backdrop-blur-sm rounded-2xl shadow-2xl p-6 border border-white/20 dark:border-purple-500/30 animate-fade-in",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(m,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"}),r.jsxs("span",{className:"font-bold text-gray-800 dark:text-white",children:["已选择标签: ",i]}),r.jsx("button",{onClick:()=>x(null),className:"ml-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:"✕"})]})})]}),r.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes fade-in {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        
        .animate-fade-in-up {
          animation: fadeInUp 0.8s ease-out forwards;
          opacity: 0;
        }
        
        .animate-fade-in {
          animation: fade-in 1s ease-out forwards;
          opacity: 0;
        }
      `})]})}export{q as default};
